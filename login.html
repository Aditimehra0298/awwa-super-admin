<!DOCTYPE html>
<html lang="en">
<head>
    <!--
    ===========================================
    AWWA FAMILY MANAGEMENT SYSTEM - LOGIN PAGE
    ===========================================
    
    PURPOSE: Main authentication portal for the AWWA Family Management System
    TARGET USERS: Military personnel and family members of 624 EME BN
    FEATURES: 
    - Multi-role authentication (L1-L4, admin)
    - Hindi branding with "दीप" (Deep) theme
    - Responsive design for all devices
    - Animated background with screenshot collages
    - Pre-configured test credentials for different user types
    
    DEPENDENCIES:
    - styles.css: Custom styling for login page
    - Font Awesome: Icons
    - Google Fonts: Inter and Poppins fonts
    - public/ folder: Images and assets
    
    NAVIGATION FLOW:
    login.html → dashboard_integrated.html (main dashboard)
    login.html → dashboard_super user.html (enhanced dashboard)
    -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>AWWA - Sign In</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&family=Poppins:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Top header with logo (left corner) -->
    <header class="site-header">
        <img src="public/Awwa2-logo.png" alt="AWWA" class="header-logo">
    </header>
    <div class="container">
        <div class="login-card">
            <!-- Left Column - Photo Collage -->
            <div class="photo-section">
                <div class="photo-collage">
                    <img src="public/Untitled design (26).png" alt="Women's Community Photos" class="main-image">
                </div>
            </div>

            <!-- Right Column - Login Form -->
            <div class="form-section">
                <div class="form-container">
                    <!-- Logo and Header -->
                    <div class="header">
                        <div class="project-badge">
                            <span class="badge-text">PROJECT</span>
                            
                        </div>
                        <div class="hindi-hero">
                            <div class="hindi-title">दीप <img src="public/Untitled design (25).png" alt="दीप" class="diya-icon"></div>
                            <div class="hindi-sub">☼ जागरूकता से आत्मनिर्भरता ☼</div>
                        </div>
                        <p class="subtitle">Please sign in to continue</p>
                    </div>

                    <!-- Login Form -->
                    <form class="login-form">
                        <div class="form-group">
                            <label for="userId">User ID</label>
                            <div class="input-container">
                                <i class="fas fa-user input-icon"></i>
                                <input type="text" id="userId" name="userId" value="tarunpreet singh" required>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="password">Password</label>
                            <div class="input-container">
                                <i class="fas fa-lock input-icon"></i>
                                <input type="password" id="password" name="password" value="admin123" required>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="userType">User Type</label>
                            <div class="input-container">
                                <i class="fas fa-shield-alt input-icon"></i>
                                <select id="userType" name="userType" required>
                                    <option value="">Select your role</option>
                                    <option value="L1" selected>L1(Super User)</option>
                                    <option value="L2">L2</option>
                                    <option value="L3">L3</option>
                                    <option value="L4">L4</option>
                                </select>
                                <i class="fas fa-chevron-down select-arrow"></i>
                            </div>
                        </div>

                        <button type="submit" class="signin-btn">
                            Sign In
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <script>
        /*
        ===========================================
        AUTHENTICATION SYSTEM
        ===========================================
        
        This script handles user authentication for the AWWA Family Management System.
        It validates user credentials and redirects to the appropriate dashboard.
        
        USER ROLES:
        - admin: Full system access (Commanding Officers, Battalion Command)
        - L1: Super User level access
        - L2: Standard user access
        - L3: Limited user access  
        - L4: Basic user access
        
        CREDENTIALS STRUCTURE:
        Each user object contains:
        - userId: Unique identifier
        - password: Authentication password
        - userType: Role level (admin, L1-L4)
        - name: Display name
        - designation: Military rank/position
        - phone: Contact number
        */
        
        // Pre-configured user credentials for testing and production
        const validUsers = [
            // Admin users
            { userId: 'tarunpreet singh', password: 'admin123', userType: 'admin', name: 'Col Tarunpreet Singh', designation: 'Commanding Officer', phone: '9650300475' },
            { userId: 'piyush sharma',     password: 'admin123', userType: 'admin', name: 'Lt Col Piyush Sharma', designation: 'Second in Comd', phone: '9797719357' },
            { userId: 'harish kumar',     password: 'admin123', userType: 'admin', name: 'Maj Harish Kumar', designation: 'Adjt', phone: '9256172418' },
            { userId: 'rahul t more',      password: 'admin123', userType: 'admin', name: 'Lt Col Rahul T More', designation: 'OIC Tech Cell', phone: '7006216984' },
            { userId: 'admin',      password: 'admin123', userType: 'admin', name: 'Administrator', designation: 'System Admin', phone: '0000000000' },
            { userId: 'bt01',       password: 'admin123', userType: 'admin', name: 'Sushma Bhatti', designation: 'Battalion Command', phone: '9087654321' },
            
            // L1 users
            { userId: 'aditi', password: 'admin123', userType: 'L1', name: 'Aditi Mehra', designation: 'L1 User', phone: '9876543210' },
            { userId: 'user1', password: 'admin123', userType: 'L1', name: 'User One', designation: 'L1 Officer', phone: '9876543211' },
            { userId: 'test', password: 'admin123', userType: 'L1', name: 'Test User', designation: 'L1 Staff', phone: '9876543212' },
            
            // L2 users
            { userId: 'user2', password: 'admin123', userType: 'L2', name: 'User Two', designation: 'L2 Officer', phone: '9876543213' },
            
            // L3 users
            { userId: 'user3', password: 'admin123', userType: 'L3', name: 'User Three', designation: 'L3 Officer', phone: '9876543214' },
            
            // L4 users
            { userId: 'user4', password: 'admin123', userType: 'L4', name: 'User Four', designation: 'L4 Officer', phone: '9876543215' }
        ];

        // Handle login
        document.querySelector('.login-form').addEventListener('submit', function (e) {
            e.preventDefault();
            const userId = document.getElementById('userId').value.trim();
            const password = document.getElementById('password').value;
            const userType = document.getElementById('userType').value;

            console.log('Login attempt:', { userId, password, userType });
            
            // First try exact match with userType
            let match = validUsers.find(u => u.userId === userId && u.password === password && u.userType === userType);
            
            // If no exact match, try with any valid user ID and password (flexible role)
            if (!match) {
                match = validUsers.find(u => u.userId === userId && u.password === password);
                if (match) {
                    // Update the userType to what was selected
                    match = { ...match, userType: userType };
                }
            }
            
            console.log('Match found:', match);
            if (match) {
                // Persist complete session info
                localStorage.setItem('userInfo', JSON.stringify({ 
                    userId: match.userId, 
                    name: match.name, 
                    userType: match.userType,
                    designation: match.designation,
                    phone: match.phone
                }));
                console.log('Login successful, redirecting...');
                alert('Login successful! Redirecting to dashboard...');
                
                // Redirect all users to super user dashboard
                window.location.href = 'dashboard_super user.html';
            } else {
                alert('Invalid credentials.\n\nTry one of these:\n- aditi / admin123 / L1\n- user1 / admin123 / L1\n- test / admin123 / L1\n- user2 / admin123 / L2\n- user3 / admin123 / L3\n- user4 / admin123 / L4\n- tarunpreet singh / admin123 / admin\n- piyush sharma / admin123 / admin\n- harish kumar / admin123 / admin\n- rahul t more / admin123 / admin\n- admin / admin123 / admin\n- bt01 / admin123 / admin');
            }
        });
    </script>
    
</body>
</html>
